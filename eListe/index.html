<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Skat-Liste</title>
    <link rel="icon" href="https://raw.githubusercontent.com/haumbaus/reizendewebsite/refs/heads/main/assets/favicon4.png" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <main id="skat-list" class="container">
        <h1>Skat-Liste</h1>

        <!-- Meta -->
        <section class="meta" id="metaBar" style="margin-bottom:8px;display:none">
            <div class="kv"><b>Aktuelles Spiel</b><span id="metaGame">1</span></div>
            <div class="kv"><b>Aktuelle Runde</b><span id="metaRound">1</span></div>
            <div class="kv"><b>Geber / Aussetzer (bei 4)</b><span id="metaDealer">‚Äì</span></div>
            <div class="kv"><b>Modus</b><span>ESF</span></div>
        </section>

        <!-- Setup -->
        <section class="card" id="setup">
            <h2>Spieler anlegen</h2>
            <div class="row">
                <div><input class="select" id="p1" placeholder="Spielerin 1"></div>
                <div><input class="select" id="p2" placeholder="Spielerin 2"></div>
                <div><input class="select" id="p3" placeholder="Spielerin 3"></div>
                <div id="p4wrap" style="display:none"><input class="select" id="p4" placeholder="Spielerin 4"></div>
            </div>
            <div class="row">
                <label><input type="checkbox" id="use4"> 4 Spielerinnen</label>
                <select id="mode" class="select"><option value="esf">Turnierskat: Erweitertes Seeger-Fabian</option></select>
                <button class="big-button primary" id="start">Liste starten</button>
            </div>
        </section>

        <!-- Laufender Betrieb -->
        <section id="running" style="display:none">
            <div class="grid-upper">
                <!-- SPIELAUSWAHL (links oben) -->
                <div class="card" id="cardSpielwahl">
                    <h2>Spielwahl</h2>
                    <div class="row">
                        <div>
                            <label>Alleinspielerin</label>
                            <select id="solo" class="select"></select>
                        </div>
                    </div>

                    <fieldset>
                        <legend>Farb-/Sonderspiel</legend>
                        <div class="tile-container">
                            <label title="Karo"><input type="radio" name="art" value="Karo"><div class="tile"><span class="symbol">‚ô¶Ô∏è</span></div></label>
                            <label title="Herz"><input type="radio" name="art" value="Herz"><div class="tile"><span class="symbol">‚ô•Ô∏è</span></div></label>
                            <label title="Pik"><input type="radio" name="art" value="Pik"><div class="tile"><span class="symbol">‚ô†Ô∏è</span></div></label>
                            <label title="Kreuz"><input type="radio" name="art" value="Kreuz"><div class="tile"><span class="symbol">‚ô£Ô∏è</span></div></label>
                            <label title="Grand"><input type="radio" name="art" value="Grand"><div class="tile"><span class="symbol"><b>G</b></span></div></label>

                            <label title="Null"><input type="radio" name="art" value="Null"><div class="tile-null"><span class="letterN">N</span></div></label>
                            <label title="Null Hand"><input type="radio" name="art" value="Null Hand"><div class="tile-null"><span class="letterN">N</span><span class="overlayIcons">‚úã</span></div></label>
                            <label title="Null Ouvert"><input type="radio" name="art" value="Null Ouvert"><div class="tile-null"><span class="letterN">N</span><span class="overlayIcons">üëÅÔ∏è</span></div></label>
                            <label title="Null Hand Ouvert"><input type="radio" name="art" value="Null Hand Ouvert"><div class="tile-null"><span class="letterN">N</span><span class="overlayIcons">‚úãüëÅÔ∏è</span></div></label>
                        </div>
                    </fieldset>

                    <div class="row" id="moWrap">
                        <fieldset style="flex:1">
                            <legend>Buben</legend>
                            <div class="tile-container">
                                <label title="Mit"><input type="radio" name="mo" value="Mit"><div class="tile"><span class="symbol">‚ûï</span></div></label>
                                <label title="Ohne"><input type="radio" name="mo" value="Ohne"><div class="tile"><span class="symbol">‚ûñ</span></div></label>
                            </div>
                        </fieldset>
                        <fieldset style="flex:1">
                            <legend>Faktor</legend>
                            <div class="tile-container">
                                <label title="1"><input type="radio" name="f" value="1"><div class="tile"><span class="symbol">1</span></div></label>
                                <label title="2"><input type="radio" name="f" value="2"><div class="tile"><span class="symbol">2</span></div></label>
                                <label title="3"><input type="radio" name="f" value="3"><div class="tile"><span class="symbol">3</span></div></label>
                                <label title="4"><input type="radio" name="f" value="4"><div class="tile"><span class="symbol">4</span></div></label>
                                <label title="5-11">
                                    <input type="radio" name="f" value="dropdown">
                                    <div class="tile">
                                        <select id="fDrop">
                                            <option value="">-</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                            <option value="11">11</option>
                                        </select>
                                    </div>
                                </label>
                            </div>
                        </fieldset>
                    </div>

                    <fieldset id="optsWrap">
                        <legend>Ansagen</legend>
                        <div class="tile-container" id="optTiles">
                            <label title="Hand"><input type="checkbox" name="opt" value="Hand"><div class="tile"><span class="symbol">‚úã</span></div></label>
                            <label title="Schneider"><input type="checkbox" name="opt" value="Schneider"><div class="tile-ansage"><span class="ansageLabel">30</span></div></label>
                            <label title="Schneider angesagt"><input type="checkbox" name="opt" value="Schneider angesagt"><div class="tile-ansage"><span class="ansageLabel">30</span><span class="overlayIcons">üì¢</span></div></label>
                            <label title="Schwarz"><input type="checkbox" name="opt" value="Schwarz"><div class="tile-ansage"><span class="ansageLabel">‚¨õ</span></div></label>
                            <label title="Schwarz angesagt"><input type="checkbox" name="opt" value="Schwarz angesagt"><div class="tile-ansage"><span class="ansageLabel">‚¨õ</span><span class="overlayIcons">üì¢</span></div></label>
                            <label title="Offen"><input type="checkbox" name="opt" value="Ouvert"><div class="tile-ansage"><span class="ansageLabel">üëÅÔ∏è</span></div></label>
                        </div>
                    </fieldset>
                </div>

                <!-- ERGEBNIS (rechts oben) -->
                <div class="card" id="cardErgebnis">
                    <h2>Ergebnis</h2>
                    <div class="tile-container big-choice">
                        <label title="Gewonnen"><input type="radio" name="res" value="Gewonnen"><div class="tile"><span class="symbol">‚úÖ</span></div></label>
                        <label title="Verloren"><input type="radio" name="res" value="Verloren"><div class="tile"><span class="symbol">‚ùå</span></div></label>
                    </div>
                    <div style="margin-top:6px">
                        <button id="pass" class="big-button">Eingepasst</button>
                    </div>
                </div>

                <!-- RUNDE & SPIELERINFO (links unten) -->
                <div class="card" id="cardInfo">
                    <h2>Runde & Spieler</h2>
                    <div class="info-grid">
                        <div><b>Spiel:</b> <span id="infoGame">1</span></div>
                        <div><b>Runde:</b> <span id="infoRound">1</span></div>
                        <div><b>Geber:</b> <span id="infoDealer">‚Äì</span></div>
                    </div>
                    <div id="miniScores" class="mini-scores"></div>
                </div>

                <!-- AKTIONEN (rechts unten) -->
                <div class="card" id="cardAktion">
                    <h2>Aktion</h2>
                    <div id="valuePreview" class="badge">Spielwert: 0</div>
                    <div style="display:flex;flex-direction:column;gap:8px;margin-top:8px">
                        <button id="add" class="big-button primary">Spiel eintragen</button>

                        <!-- Edit-Buttons -->
                        <button id="saveEdit" class="big-button primary" style="display:none">√Ñnderung speichern</button>
                        <button id="cancelEdit" class="big-button" style="display:none">Abbrechen</button>

                        <button id="undo" class="big-button">Undo</button>
                        <button id="export" class="big-button">CSV exportieren</button>
                        <button id="abort" class="big-button danger">Liste abbrechen</button>
                    </div>
                    <div style="margin-top:10px;font-size:.9rem" id="summary"></div>
                </div>
            </div>

            <!-- Tabelle -->
            <div class="card" style="margin-top:12px">
                <h2>Liste</h2>
                <div style="overflow:auto">
                    <table class="table" id="listTable"></table>
                </div>
            </div>
        </section>

        <!-- Toast -->
        <div id="toast"><div class="inner" id="toastMsg">Gespeichert.</div></div>
    </main>

    <script src="script.js" defer></script>
</body>
</html>
